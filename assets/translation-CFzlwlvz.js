import{r as x,j as e,a as L,b as F,L as P}from"./index-CQHjorcH.js";import{A as w}from"./AttributionBlog-Dju1FV7y.js";import{L as C,a as R,b as N,M as p,c as I,z as j,T as A,N as E,A as W,d as k,f as D,e as G,F as M,g as O,u as _,h as S,S as V,C as b,i as z}from"./useDesmos-DgEbnzYS.js";import{T as l,S as c,P as B}from"./Stack-BQ7_Kc1W.js";const H=["$A(x,y)$ เลื่อนขนาน $\\begin{bmatrix} a \\\\ b\\end{bmatrix}$: $$A'(x+a,y+b)$$"],J=x.memo(()=>e.jsx(C,{sx:{paddingLeft:4,listStyleType:"disc"},children:H.map((n,a)=>e.jsx(R,{sx:{display:"list-item"},children:e.jsx(N,{disableTypography:!0,children:e.jsx(l,{children:e.jsx(p,{dynamic:!0,children:n})})})},`forumla-${a}`))}),()=>!0),U=["รูปต้นแบบและภาพที่ได้จากการเลื่อนขนานสามารถทับกันได้สนิทโดยไม่ต้องพลิกรูป หรือกล่าวว่ารูปต้นแบบและภาพที่ได้จากการเลื่อนขนานเท่ากันทุกประการ","ส่วนของเส้นตรงที่เชื่อมระหว่างจุดที่สมนัยกันแต่ละคู่ จะขนานกันและยาวเท่ากันทุกเส้น","ส่วนของเส้นตรงบนรูปต้นแบบและภาพที่ได้จากการเลือนขนานส่วนของเส้นตรงนั้น จะขนานกันและยาวเท่ากัน"],Y=x.memo(()=>e.jsx(c,{spacing:.5,children:e.jsx(C,{sx:{pl:4,listStyleType:"disc"},children:U.map((n,a)=>e.jsx(R,{sx:{display:"list-item"},children:e.jsx(N,{disableTypography:!0,children:e.jsx(l,{children:n})})},`PROP-${a}`))})}),()=>!0),{useAppForm:q}=I({fieldComponents:{ArrayItemAddButton:k,ArrayItemRemoveButton:W,NumberTextField:E},formComponents:{FormResetButton:O,FormSubmitButton:M},fieldContext:D,formContext:G}),g=j.string().trim().nonempty().normalize().refine(n=>!isNaN(Number(n))).pipe(j.transform(n=>Number(n))),v=j.object({points:j.object({x:g,y:g}).array().max(4),translation:j.object({x:g,y:g})}),K=({onSubmit:n})=>{const{FormResetButton:a,FormSubmitButton:m,AppField:r,AppForm:o}=q({defaultValues:{points:[{x:"1",y:"1"}],translation:{x:"2",y:"1"}},validators:{onChange:v},onSubmit:({value:t})=>{const u=v.safeParse(t);u.success&&n(u.data)}});return e.jsxs(c,{children:[e.jsx(A,{children:e.jsx(o,{children:e.jsx(a,{})})}),e.jsxs(c,{spacing:.5,padding:1,children:[e.jsx(l,{children:e.jsx(p,{dynamic:!0,children:"เวกเตอร์ของการเลื่อนขนาน $(a,b)$"})}),e.jsxs(c,{useFlexGap:!0,spacing:.5,direction:"row",flexWrap:"nowrap",children:[e.jsx(r,{name:"translation.x",children:t=>e.jsx(t.NumberTextField,{})}),e.jsx(r,{name:"translation.y",children:t=>e.jsx(t.NumberTextField,{})})]})]}),e.jsx(c,{children:e.jsx(r,{name:"points",mode:"array",children:t=>e.jsx(x.Fragment,{children:t.state.value.map((u,s)=>e.jsxs(c,{spacing:.5,padding:1,sx:{backgroundColor:({palette:{primary:i}})=>s%2===1?void 0:L(i.light,.08)},children:[e.jsxs(c,{direction:"row",justifyContent:"space-between",children:[e.jsx(l,{children:e.jsxs(p,{dynamic:!0,children:[s===0&&`พิกัดที่ ${s+1} $(x,y)$`,s!==0&&`พิกัดที่ ${s+1}`]})}),e.jsx(t.ArrayItemRemoveButton,{index:s})]}),e.jsxs(c,{spacing:.5,direction:"row",children:[e.jsx(r,{name:`points[${s}].x`,children:i=>e.jsx(i.NumberTextField,{})}),e.jsx(r,{name:`points[${s}].y`,children:i=>e.jsx(i.NumberTextField,{})})]})]},`translate-point-${s}`))})})}),e.jsxs(A,{sx:{justifyContent:"space-between"},children:[e.jsx(o,{children:e.jsx(m,{})}),e.jsx(r,{name:"points",children:t=>e.jsx(t.ArrayItemAddButton,{})})]})]})},Q=n=>{const{addLine:a,addPoint:m,addPolygon:r,clearGraph:o,desmosRef:t}=_(n);return{plotTranslation:x.useCallback(s=>{if(t.current===void 0)return;o();const i=t.current,{points:h,translation:y}=s;i.setExpressions([{latex:`T(x,y) = (  
              x + ${y.x} , 
              y + ${y.y}
          )`,hidden:!0}]);for(const[d,f]of h.entries()){const $=String.fromCharCode(65+d);a([`A_{${d}}`,`B_{${d}}`]);const T=m({index:d,texName:"A",tex:`(${f.x}, ${f.y})`,label:$,color:F.A400});m({index:d,texName:"B",tex:`T(
            ${T}.x, 
            ${T}.y
          )`,label:`${$}^{\\prime}`,color:S.A400})}h.length>1&&(r("A",h.length,F.A400),r("B",h.length,S.A400))},[a,m,r,o,t]),desmosRef:t}};function se(){const{desmosRef:n,plotTranslation:a}=Q("#desmos"),[m,r]=x.useState({});x.useEffect(()=>{if(n.current===void 0)return;const s=n.current;for(let i=0;i<4;i++){const h=s.HelperExpression({latex:`B_{${i}}`});h.observe("listValue",()=>{r(y=>{const d={...y};return d[i]=[...h.listValue],d})})}return()=>s.destroy()},[n]);const[o,t]=x.useState(null),u=x.useCallback(s=>{t(s),a(s)},[a]);return e.jsx(V,{slots:{secondary:e.jsx(B,{sx:{height:"100%"},children:e.jsx("div",{id:"desmos",style:{width:"100%",height:"100%"}})}),primary:e.jsx(B,{variant:"outlined",sx:{height:"100%",padding:2,overflowY:"auto",scrollbarWidth:"thin",scrollbarGutter:"stable"},children:e.jsxs(c,{spacing:2,children:[e.jsx(l,{color:"textPrimary",sx:{"&:hover":{textDecorationLine:"underline"}},children:e.jsx(P,{to:"/",style:{color:"inherit",textDecorationLine:"none"},children:"กลับหน้าแรก"})}),e.jsxs(c,{spacing:.5,children:[e.jsx(l,{component:"div",variant:"h5",fontWeight:700,children:"(การแปลงทางเรขาคณิต)"}),e.jsx(l,{variant:"h5",component:"div",fontWeight:700,children:"การเลื่อนขนาน"})]}),e.jsx(K,{onSubmit:u}),e.jsx(b,{title:e.jsx(l,{fontWeight:700,children:"ผลลัพธ์"}),children:e.jsxs(c,{children:[o===null&&e.jsxs(e.Fragment,{children:[e.jsx(l,{children:"เวกเตอร์ของการเลื่อนขนาน:"}),e.jsx(p,{dynamic:!0,children:"พิกัดเดิม $\\rightarrow$ พิกัดใหม่:"})]}),o!==null&&e.jsxs(e.Fragment,{children:[e.jsx(p,{dynamic:!0,children:`เวกเตอร์ของการเลื่อนขนาน: $\\begin{bmatrix} ${o.translation.x} \\\\ ${o.translation.y}\\end{bmatrix}$`}),e.jsx(p,{dynamic:!0,children:"พิกัดเดิม $\\rightarrow$ พิกัดใหม่:"}),e.jsx(z,{preImages:o.points,imageMap:m})]})]})}),e.jsx(b,{title:e.jsx(l,{fontWeight:600,children:"สมบัติการเลื่อนขนาน"}),children:e.jsx(Y,{})}),e.jsx(b,{title:e.jsx(l,{fontWeight:600,children:"สูตรการเลื่อนขนาน"}),children:e.jsx(J,{})}),e.jsx(w,{})]})})}})}export{se as component};
